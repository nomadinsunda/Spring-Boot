# SpringApplication.run() ì™„ë²½ ë¶„ì„: Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ì 

> **Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ì€ ì–´ë””ì„œë¶€í„°ì¼ê¹Œ?**  
> ëª¨ë“  ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê²°êµ­ `SpringApplication.run()`ì´ë¼ëŠ” ì •ì  ë©”ì„œë“œ í˜¸ì¶œì—ì„œ ì¶œë°œí•œë‹¤. ì´ ë‹¨ í•œ ì¤„ì˜ ì½”ë“œê°€ ì–´ë–»ê²Œ ìˆ˜ë§ì€ ì„¤ì •ì„ ìë™í™”í•˜ê³ , ë‚´ì¥ ì›¹ ì„œë²„ë¥¼ ê¸°ë™ì‹œí‚¤ë©°, ê°œë°œìê°€ ì‘ì„±í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“œëŠ” ê±¸ê¹Œ?

ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Spring Bootì˜ í•µì‹¬ ë¶€íŠ¸ìŠ¤íŠ¸ë© ë©”ì»¤ë‹ˆì¦˜ì¸ `SpringApplication.run()`ì˜ ë™ì‘ ê³¼ì •ì„ **ì´ˆê¸°í™” â†’ ì‹¤í–‰ â†’ ì™„ë£Œ**ê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ, ê·¸ë¦¬ê³  **ì†ŒìŠ¤ ì½”ë“œ ê¸°ë°˜**ìœ¼ë¡œ ë‚±ë‚±ì´ íŒŒí—¤ì³ ë³¸ë‹¤.

---

## ğŸ” ê°œìš”: SpringApplication.run()ì˜ í•µì‹¬ ì—­í• 

```
public static void main(String[] args) {
    SpringApplication.run(MyApplication.class, args);
}
```

ì´ í•œ ì¤„ì€ ë‹¤ìŒê³¼ ê°™ì€ ì¼ì„ ì²˜ë¦¬í•œë‹¤:

-   Spring ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»¨í…ìŠ¤íŠ¸ ìƒì„±
-   `@ComponentScan` ê¸°ë°˜ Bean ë“±ë¡
-   í™˜ê²½ ì„¤ì •(`application.yml`, `application.properties`) ë¡œë”©
-   ë‚´ì¥ Tomcat ë“± ì›¹ ì„œë²„ ê¸°ë™
-   ë‹¤ì–‘í•œ Application Event ë°œìƒ
-   `CommandLineRunner`, `ApplicationRunner` ì‹¤í–‰

ì¦‰, **Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ìƒëª…ì£¼ê¸°ë¥¼ ì´ë„ëŠ” ì»¨íŠ¸ë¡¤ íƒ€ì›Œ**ë‹¤.

---

## ğŸ§­ ì‹¤í–‰ íë¦„ ìš”ì•½

SpringApplication.run() ë‚´ë¶€ëŠ” ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§„ë‹¤:

1.  SpringApplication ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
2.  ë¦¬ìŠ¤ë„ˆ ì¤€ë¹„ ë° ì‹œì‘ ì´ë²¤íŠ¸ ì „íŒŒ
3.  í™˜ê²½ ì¤€ë¹„ ë° ì„¤ì •
4.  ë°°ë„ˆ ì¶œë ¥
5.  ApplicationContext ìƒì„±
6.  ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” ë° Refresh
7.  CommandLineRunner / ApplicationRunner ì‹¤í–‰
8.  ì‹¤í–‰ ì™„ë£Œ ë° Ready ì´ë²¤íŠ¸ ì „íŒŒ

---

## âš™ï¸ SpringApplication.run() ë‚´ë¶€ ì½”ë“œ ë¶„ì„

ë‹¤ìŒì€ Spring Boot 3.x ê¸°ì¤€ì˜ `run()` ë©”ì„œë“œ í•µì‹¬ ë¡œì§ì´ë‹¤.

```
public ConfigurableApplicationContext run(String... args) {
    long startTime = System.nanoTime();
    DefaultBootstrapContext bootstrapContext = createBootstrapContext();
    ConfigurableApplicationContext context = null;

    configureHeadlessProperty();

    SpringApplicationRunListeners listeners = getRunListeners(args);
    listeners.starting(bootstrapContext, this.mainApplicationClass);

    try {
        ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);
        ConfigurableEnvironment environment = prepareEnvironment(listeners, bootstrapContext, applicationArguments);

        Banner printedBanner = printBanner(environment);

        context = createApplicationContext();
        context.setApplicationStartup(this.applicationStartup);

        prepareContext(bootstrapContext, context, environment, listeners, applicationArguments, printedBanner);
        refreshContext(context);

        afterRefresh(context, applicationArguments);

        Duration timeTakenToStartup = Duration.ofNanos(System.nanoTime() - startTime);
        if (this.logStartupInfo) {
            new StartupInfoLogger(this.mainApplicationClass).logStarted(getApplicationLog(), timeTakenToStartup);
        }

        listeners.started(context, timeTakenToStartup);
        callRunners(context, applicationArguments);
    } catch (Throwable ex) {
        handleRunFailure(context, ex, listeners);
        throw new IllegalStateException(ex);
    }

    try {
        if (context.isRunning()) {
            Duration timeTakenToReady = Duration.ofNanos(System.nanoTime() - startTime);
            listeners.ready(context, timeTakenToReady);
        }
    } catch (Throwable ex) {
        handleRunFailure(context, ex, null);
        throw new IllegalStateException(ex);
    }

    return context;
}
```

---

## ğŸ”„ ì£¼ìš” ë‹¨ê³„ë³„ ì„¸ë¶€ ë¶„ì„

### 1\. SpringApplicationRunListeners ì´ˆê¸°í™” ë° `starting()` í˜¸ì¶œ

-   **SpringApplicationRunListeners** ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì¤‘ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸(ApplicationStartingEvent ë“±)ë¥¼ ì²˜ë¦¬í•  ë¦¬ìŠ¤ë„ˆ ê·¸ë£¹.
-   `META-INF/spring.factories`ì— ë“±ë¡ëœ `SpringApplicationRunListener` êµ¬í˜„ì²´ë¥¼ ë¡œë”©.

```
listeners.starting(bootstrapContext, this.mainApplicationClass);
```

### 2\. Environment ì„¤ì •

-   ì‹œìŠ¤í…œ í™˜ê²½, JVM ì˜µì…˜, ì»¤ë§¨ë“œë¼ì¸ ì¸ìë¥¼ í¬í•¨í•œ í™˜ê²½ ê°ì²´ ìƒì„±
-   `.properties`, `.yml`, `--key=value` ëª…ë ¹ì–´ ì¸ì ë“±ì„ í¬í•¨í•˜ì—¬ ìµœì¢… ì„¤ì •ê°’ ê²°ì •

```
ConfigurableEnvironment environment = prepareEnvironment(...);
```

### 3\. Banner ì¶œë ¥

```
Banner printedBanner = printBanner(environment);
```

-   ì½˜ì†”ì— ì¶œë ¥ë˜ëŠ” Spring Boot ë°°ë„ˆ. í•„ìš” ì‹œ `banner.txt`ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥.

### 4\. ApplicationContext ìƒì„±

```
context = createApplicationContext();
```

-   ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë©´ `AnnotationConfigServletWebServerApplicationContext`
-   ì¼ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë©´ `AnnotationConfigApplicationContext`

### 5\. ApplicationContext ì¤€ë¹„

```
prepareContext(...);
```

-   í™˜ê²½ ì„¤ì • ì£¼ì…
-   `ApplicationContextInitializer` ì‹¤í–‰
-   Bean ì •ì˜ ë¡œë”©

### 6\. ApplicationContext Refresh

```
refreshContext(context);
```

-   ì‹¤ì œ ë¹ˆ ìƒì„±, ì˜ì¡´ì„± ì£¼ì…, AOP ì´ˆê¸°í™” ë“± ì „ë°˜ì ì¸ ì»¨í…ìŠ¤íŠ¸ í™œì„±í™”

### 7\. CommandLineRunner, ApplicationRunner ì‹¤í–‰

```
callRunners(context, applicationArguments);
```

-   ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ ì¤‘ ì´ˆê¸°í™” ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë¡œì§ì„ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

---

## ğŸ“Š ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë²¤íŠ¸ íë¦„

ì‹¤í–‰ ì¤‘ ë°œìƒí•˜ëŠ” ì£¼ìš” ì´ë²¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:

| ì´ë²¤íŠ¸ | ì„¤ëª… |
| --- | --- |
| `ApplicationStartingEvent` | ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë  ë•Œ ë°œìƒ |
| `ApplicationEnvironmentPreparedEvent` | í™˜ê²½ ì •ë³´ ë¡œë”© í›„ ë°œìƒ |
| `ApplicationContextInitializedEvent` | ì»¨í…ìŠ¤íŠ¸ ìƒì„± ì§í›„ ë°œìƒ |
| `ApplicationPreparedEvent` | Bean ì •ì˜ ì™„ë£Œ í›„ ë°œìƒ |
| `ApplicationStartedEvent` | ì»¨í…ìŠ¤íŠ¸ Refresh í›„ ë°œìƒ |
| `ApplicationReadyEvent` | ì‹¤í–‰ ì¤€ë¹„ ì™„ë£Œ í›„ ë°œìƒ |
| `ApplicationFailedEvent` | ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ ë°œìƒ ì‹œ ì „íŒŒ |

---

## ğŸŒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì¼ ê²½ìš°ì˜ íŠ¹ì´ì 

-   `spring-boot-starter-web` ì˜ì¡´ì„±ì„ í¬í•¨í•˜ë©´ `AnnotationConfigServletWebServerApplicationContext`ê°€ ìƒì„±ë¨
-   í†°ìº£, ì œí‹°, ì–¸ë”í† ìš° ì¤‘ í•˜ë‚˜ê°€ ìë™ ì„¤ì •ë˜ì–´ **ë‚´ì¥ ì›¹ ì„œë²„ë¡œ ë™ì‘**
-   ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ìë™ ë“±ë¡ë˜ë©°, `DispatcherServlet`ì´ ìµœìƒìœ„ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë°°ì¹˜ë¨

---

## ğŸ§ª ìœ ìš©í•œ íŒ: ApplicationRunner / CommandLineRunner ì‚¬ìš©ë²•

```
@Component
public class MyStartupRunner implements CommandLineRunner {
    @Override
    public void run(String... args) {
        System.out.println("ì•± ì‹œì‘ í›„ ì‹¤í–‰ë˜ëŠ” ë¡œì§");
    }
}
```

```
@Component
public class MyAppRunner implements ApplicationRunner {
    @Override
    public void run(ApplicationArguments args) {
        System.out.println("Args: " + args.getOptionNames());
    }
}
```

---

## ğŸ§  ë§ˆì¹˜ë©°: ì™œ ì•Œì•„ì•¼ í• ê¹Œ?

`SpringApplication.run()`ì€ ë‹¨ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” íŠ¸ë¦¬ê±°ì¼ ë¿ë§Œ ì•„ë‹ˆë¼, Spring Bootì˜ **ìë™ êµ¬ì„±(Auto Configuration)**, **ë¹ˆ ê´€ë¦¬**, **ì´ë²¤íŠ¸ ë°œí–‰**, **ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ êµ¬ë™**ì„ ì´ê´„í•˜ëŠ” **ì‹¤ì§ˆì  ì§„ì…ì **ì´ë‹¤.

ì´ ë©”ì„œë“œë¥¼ ê¹Šì´ ì´í•´í•˜ë©´, ë‹¤ìŒê³¼ ê°™ì€ ì—­ëŸ‰ì´ í¬ê²Œ í–¥ìƒëœë‹¤:

-   ApplicationContext êµ¬ì„± ê³¼ì •ì˜ ë””ë²„ê¹…
-   ì´ˆê¸°í™” ìˆœì„œì˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•
-   ApplicationListener, Initializer í™œìš©
-   ì„¤ì • ë³‘í•© ë° í™˜ê²½ ìš°ì„ ìˆœìœ„ ì´í•´

---

ğŸ“˜ **Reference**

-   [Spring Boot Docs](https://docs.spring.io/spring-boot/docs/current/reference/html/)
-   [SpringApplication JavaDoc](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html)
-   Spring Boot GitHub: [`SpringApplication.java`](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java)

---

# Spring Bootì˜ ì‹¬ì¥, SpringApplication.run() ì™„ì „ ë¶„ì„

Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë‹¨ í•œ ì¤„ì˜ ì½”ë“œë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

```
SpringApplication.run(MyApplication.class, args);
```

í•˜ì§€ë§Œ ì´ í•œ ì¤„ì€ ë‹¨ìˆœí•œ ì‹œì‘ì´ ì•„ë‹™ë‹ˆë‹¤. ì´ ë‚´ë¶€ì—ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ ìƒëª…ì£¼ê¸°ë¥¼ ê´€í†µí•˜ëŠ” ê°•ë ¥í•˜ê³ ë„ ë³µì¡í•œ ì´ˆê¸°í™” ë©”ì»¤ë‹ˆì¦˜ì´ ìˆ¨ê²¨ì ¸ ìˆìŠµë‹ˆë‹¤. ë³¸ ë¬¸ì„œì—ì„œëŠ” `SpringApplication.run()`ì˜ ì „ì²´ ì‹¤í–‰ ê³¼ì •ê³¼ ë‚´ë¶€ êµ¬ì¡°ë¥¼ **ì•„ì£¼ ê¹Šê³  ìƒì„¸í•˜ê²Œ** ë¶„ì„í•©ë‹ˆë‹¤. ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš´ì˜ì—ì„œ ë¬¸ì œë¥¼ ë””ë²„ê¹…í•˜ê±°ë‚˜ êµ¬ì¡°ë¥¼ ìµœì í™”í•  ë•Œ ë°˜ë“œì‹œ ì´í•´í•˜ê³  ìˆì–´ì•¼ í•˜ëŠ” ê°œë…ë“¤ì…ë‹ˆë‹¤.

---

## 1\. SpringApplication ê°ì²´ ìƒì„±ê³¼ ì„¤ì •

`SpringApplication.run()`ì€ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

```
SpringApplication app = new SpringApplication(MyApplication.class);
return app.run(args);
```

`SpringApplication` í´ë˜ìŠ¤ëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë© ë¡œì§ì˜ í•µì‹¬ì´ë©°, ì´ ê°ì²´ ìƒì„± ì‹œ ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì •ì´ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤:

### 1.1 ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ íƒ€ì… ê°ì§€

í´ë˜ìŠ¤íŒ¨ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë¡œ ê²°ì •:

-   `SERVLET` (ê¸°ë³¸, ì„œë¸”ë¦¿ ê¸°ë°˜ ì›¹ ì•±)
-   `REACTIVE` (WebFlux ê¸°ë°˜ ë¹„ë™ê¸° ì›¹ ì•±)
-   `NONE` (CLI, Batch ë“± ë¹„ì›¹ ì•±)

ì´ ì„¤ì •ì€ `WebApplicationType.deduceFromClasspath()`ë¡œ ê°ì§€ë©ë‹ˆë‹¤.

### 1.2 ì´ˆê¸°í™”ìì™€ ë¦¬ìŠ¤ë„ˆ ë¡œë”©

Spring BootëŠ” `META-INF/spring.factories`ì— ì •ì˜ëœ ë‹¤ìŒ êµ¬ì„±ìš”ì†Œë“¤ì„ ìë™ìœ¼ë¡œ ë¡œë”©í•©ë‹ˆë‹¤:

-   `ApplicationContextInitializer`
-   `ApplicationListener`
-   `SpringApplicationRunListener`
-   `FailureAnalyzer`

ì´ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™” ë‹¨ê³„ì— ê°œì…í•  ìˆ˜ ìˆëŠ” í™•ì¥ í¬ì¸íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

---

## 2\. SpringApplication.run() ë‚´ë¶€ ì‹¤í–‰ íë¦„

ë‹¤ìŒì€ í•µì‹¬ íë¦„ì„ ê³ ìˆ˜ì¤€ì—ì„œ ì„¤ëª…í•œ ê²ƒì…ë‹ˆë‹¤:

1.  ë¶€íŠ¸ìŠ¤íŠ¸ë© ì»¨í…ìŠ¤íŠ¸ ìƒì„± (`DefaultBootstrapContext`)
2.  ë¦¬ìŠ¤ë„ˆì—ê²Œ `ApplicationStartingEvent` ì „íŒŒ
3.  í™˜ê²½ êµ¬ì„±: `Environment` ìƒì„± ë° ì»¤ìŠ¤í„°ë§ˆì´ì§•
4.  ë°°ë„ˆ ì¶œë ¥
5.  `ApplicationContext` ìƒì„±
6.  ì´ˆê¸°í™”ì ì‹¤í–‰: `ApplicationContextInitializer`
7.  ë¹ˆ ì •ì˜ ë° ë“±ë¡
8.  `refresh()` í˜¸ì¶œ â†’ ë¹ˆ ìƒì„±, ì˜ì¡´ì„± ì£¼ì…, ë‚´ì¥ í†°ìº£ ê¸°ë™ ë“±
9.  `CommandLineRunner`, `ApplicationRunner` ì‹¤í–‰
10.  ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤€ë¹„ ì™„ë£Œ ì´ë²¤íŠ¸ ì „íŒŒ

ì´ ì „ì²´ íë¦„ì„ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ ë©”ì„œë“œëŠ” ë‹¤ìŒì…ë‹ˆë‹¤:

```
public ConfigurableApplicationContext run(String... args)
```

---

## 3\. ìƒì„¸ ì‹¤í–‰ ë‹¨ê³„ ë¶„ì„

### 3.1 BootstrapContext ìƒì„±

`DefaultBootstrapContext`ëŠ” `EnvironmentPostProcessor` ê°™ì€ ì´ˆê¸° í™˜ê²½ ë¶„ì„ ë„ì¤‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì»¨í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì•„ì§ `ApplicationContext`ëŠ” ìƒì„±ë˜ì§€ ì•Šì•˜ì§€ë§Œ, ì´ ì‹œì ë¶€í„° ì¼ë¶€ êµ¬ì„±ìš”ì†Œê°€ ë“±ë¡ë©ë‹ˆë‹¤.

### 3.2 RunListener ìƒì„± ë° starting ì´ë²¤íŠ¸ ë°œìƒ

`getSpringFactoriesInstances(SpringApplicationRunListener.class)`  
â†’ `EventPublishingRunListener`ë¥¼ í†µí•´ `ApplicationStartingEvent`ë¥¼ ì „íŒŒí•©ë‹ˆë‹¤.

ì´ ë‹¨ê³„ì—ì„œ ë¡œê¹… ì´ˆê¸°í™”, ìš´ì˜í™˜ê²½ ì¤€ë¹„ ë“±ì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.

### 3.3 Environment êµ¬ì„±

-   `StandardEnvironment` ë˜ëŠ” `WebEnvironment` ìƒì„±
-   `EnvironmentPostProcessor` ì‹¤í–‰
-   application.yml, application.properties, ëª…ë ¹ì–´ ì¸ì ë“± ì ìš©
-   `spring.profiles.active`, `spring.config.activate.on-profile` ì ìš©

```
ConfigurableEnvironment environment = prepareEnvironment(...);
```

ë¦¬ìŠ¤ë„ˆì—ê²Œ `ApplicationEnvironmentPreparedEvent`ê°€ ì „ë‹¬ë©ë‹ˆë‹¤.

### 3.4 Banner ì¶œë ¥

```
Banner printedBanner = printBanner(environment);
```

`resources/banner.txt` íŒŒì¼ì´ë‚˜ `Banner` APIë¥¼ ì‚¬ìš©í•´ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## 4\. ApplicationContext ìƒì„± ë° êµ¬ì„±

### 4.1 ApplicationContext ìƒì„±

ì• í”Œë¦¬ì¼€ì´ì…˜ íƒ€ì…ì— ë”°ë¼ ìƒì„±ë˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ì¢…ë¥˜:

| íƒ€ì… | í´ë˜ìŠ¤ |
| --- | --- |
| ì„œë¸”ë¦¿ ì›¹ | `AnnotationConfigServletWebServerApplicationContext` |
| ë¦¬ì•¡í‹°ë¸Œ ì›¹ | `AnnotationConfigReactiveWebServerApplicationContext` |
| ë¹„ì›¹ | `AnnotationConfigApplicationContext` |

```
this.applicationContext = createApplicationContext();
```

### 4.2 ApplicationContextInitializer ì‹¤í–‰

applicationContextê°€ ìƒì„±ëœ í›„, ì´ˆê¸°í™”ìë“¤ì´ ì‹¤í–‰ë©ë‹ˆë‹¤:

```
initializer.initialize(applicationContext);
```

ë¹ˆ íŒ©í† ë¦¬ ì„¤ì •ì´ë‚˜ í™˜ê²½ í”„ë¡œí¼í‹° ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ìœ ìš©í•©ë‹ˆë‹¤.

### 4.3 ApplicationPreparedEvent ì „íŒŒ

ì»¨í…ìŠ¤íŠ¸ì— ë¹ˆ ë“±ë¡ì´ ëë‚˜ê³ , ì•„ì§ `refresh()`ëŠ” í˜¸ì¶œë˜ì§€ ì•Šì€ ì‹œì ì…ë‹ˆë‹¤.

---

## 5\. ApplicationContext ë¦¬í”„ë ˆì‹œ

```
context.refresh();
```

Spring ì»¨í…Œì´ë„ˆì˜ í•µì‹¬ ë‹¨ê³„ì…ë‹ˆë‹¤:

-   ë¹ˆ íŒ©í† ë¦¬ í›„ì²˜ë¦¬ê¸° ì‹¤í–‰
-   ëª¨ë“  ì‹±ê¸€í†¤ ë¹ˆ ì¸ìŠ¤í„´ìŠ¤í™”
-   `@PostConstruct` í˜¸ì¶œ
-   AOP í”„ë¡ì‹œ ì ìš©
-   ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ(Tomcat ë“±) ê¸°ë™ ë° `DispatcherServlet` ë“±ë¡

ì›¹ ì•±ì´ë¼ë©´ ì´ ì‹œì ë¶€í„° í¬íŠ¸ ë°”ì¸ë”©ì´ ì™„ë£Œë˜ì–´ HTTP ìš”ì²­ ìˆ˜ì‹  ì¤€ë¹„ê°€ ì™„ë£Œë©ë‹ˆë‹¤.

---

## 6\. ì‹¤í–‰ ì´í›„ ë‹¨ê³„

### 6.1 ApplicationStartedEvent ì „íŒŒ

```
listeners.started(context, timeTakenToStartup);
```

ë‚´ì¥ ì„œë²„ê°€ ê¸°ë™ëœ ì§í›„, ì‹¤í–‰ ì§í›„ì˜ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸°ì— ì í•©í•œ ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.

### 6.2 CommandLineRunner / ApplicationRunner ì‹¤í–‰

```
callRunners(context, applicationArguments);
```

ì´ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ì ì •ì˜ ë¡œì§ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
@Component
public class MyRunner implements CommandLineRunner {
    public void run(String... args) {
        System.out.println("ì•± ì‹¤í–‰ í›„ ë¡œì§");
    }
}
```

### 6.3 ApplicationReadyEvent ì „íŒŒ

```
listeners.ready(context, timeTakenToReady);
```

ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œëœ í›„ ìµœì¢… ì¤€ë¹„ ì™„ë£Œ ìƒíƒœë¥¼ ì•Œë¦¬ëŠ” ì´ë²¤íŠ¸ì…ë‹ˆë‹¤. í—¬ìŠ¤ì²´í¬, ë°°ì¹˜ íŠ¸ë¦¬ê±°, Slack ì•Œë¦¼ ë“±ê³¼ ì—°ê³„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## 7\. ì˜ˆì™¸ ì²˜ë¦¬

### 7.1 ApplicationFailedEvent ì „íŒŒ

ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ ë°œìƒ ì‹œ ë‹¤ìŒ ìˆœì„œë¡œ ì²˜ë¦¬:

1.  `ApplicationFailedEvent` ì „ë‹¬
2.  `FailureAnalyzer` íƒìƒ‰ ë° ë¶„ì„ ê²°ê³¼ ì¶œë ¥
3.  ì‚¬ìš©ì ì •ì˜ ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì‹¤í–‰ ê°€ëŠ¥

---

## 8\. ì»¤ìŠ¤í„°ë§ˆì´ì§• í¬ì¸íŠ¸ ì´ì •ë¦¬

| ëŒ€ìƒ | í™•ì¥ ì¸í„°í˜ì´ìŠ¤ | ì‹œì  |
| --- | --- | --- |
| í™˜ê²½ ì„¤ì • | `EnvironmentPostProcessor` | run() ì´ˆê¸° |
| ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” | `ApplicationContextInitializer` | context ìƒì„± ì§í›„ |
| ì´ë²¤íŠ¸ ìˆ˜ì‹  | `ApplicationListener` | ê°ì¢… ì´ë²¤íŠ¸ ë°œìƒ ì‹œ |
| ì‹¤í–‰ í›„ ë¡œì§ | `CommandLineRunner` / `ApplicationRunner` | context.refresh() í›„ |
| ì‹¤íŒ¨ ëŒ€ì‘ | `FailureAnalyzer` | ì˜ˆì™¸ ë°œìƒ ì‹œ |
| ë°°ë„ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§• | `Banner` | ë°°ë„ˆ ì¶œë ¥ ë‹¨ê³„ |

---

## 9\. ê²°ë¡ 

`SpringApplication.run()`ì€ ë‹¨ìˆœí•œ ì‹¤í–‰ ë©”ì„œë“œê°€ ì•„ë‹Œ, Spring Bootì˜ ì „ì²´ ìƒëª…ì£¼ê¸°ë¥¼ ì œì–´í•˜ëŠ” ê°•ë ¥í•œ í”„ë ˆì„ì›Œí¬ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ì´ë¥¼ ê¹Šì´ ìˆê²Œ ì´í•´í•¨ìœ¼ë¡œì¨ ìš°ë¦¬ëŠ”:

-   ë³´ë‹¤ ì„¸ë°€í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ ê°€ëŠ¥í•˜ê³ ,
-   ì´ˆê¸°í™” ì´ìŠˆë‚˜ ì„¤ì • ì¶©ëŒì„ ë¹ ë¥´ê²Œ í•´ê²°í•˜ë©°,
-   ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°ë„ ëª…í™•í•˜ê²Œ í†µì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

> ë‹¤ìŒ í¸ì—ì„œëŠ” `ApplicationContextInitializer`, `EnvironmentPostProcessor`, `SpringApplicationRunListener`ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ì‹¤ì „ ì˜ˆì œë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.
