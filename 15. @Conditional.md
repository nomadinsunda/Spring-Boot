# ğŸ” `@Conditional`ì€ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒ í•„í„°ì— ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ê°€?

> "Springì€ í´ë˜ìŠ¤ì— `@Conditional`ì´ ë¶™ì–´ ìˆì„ ë•Œ,
> ì•„ì˜ˆ **BeanDefinitionì„ ë“±ë¡ì¡°ì°¨ í•˜ì§€ ì•Šì„ ìˆ˜ë„** ìˆë‹¤.
> ê·¸ íŒë‹¨ì€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§ˆê¹Œ?"

---

## âœ… 1. ê¸°ë³¸ ê°œë…: `@Conditional`

```java
@Target({ TYPE, METHOD })
@Retention(RUNTIME)
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

* í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œ ìˆ˜ì¤€ì— ë¶™ì¼ ìˆ˜ ìˆìŒ
* `Condition` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì¡°ê±´ í´ë˜ìŠ¤ì˜ ê²°ê³¼ì— ë”°ë¼
  **í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë‚˜ Bean ë©”ì„œë“œë¥¼ ë¬´ì‹œí• ì§€ ê²°ì •**

---

## âœ… 2. ì–´ë–¤ ì‹œì ì— ì‘ë™í•˜ëŠ”ê°€?

| ë™ì‘ ìœ„ì¹˜                      | ì²˜ë¦¬ ì£¼ì²´                            | ì‘ë™ ì‹œì        |
| -------------------------- | -------------------------------- | ----------- |
| @ComponentScan ëŒ€ìƒ íŒë‹¨ ì‹œ     | `ClassPathBeanDefinitionScanner` | ìŠ¤ìº” ì‹œ        |
| @Configuration, @Bean ì²˜ë¦¬ ì‹œ | `ConfigurationClassParser`       | ì„¤ì • í´ë˜ìŠ¤ ë¶„ì„ ì‹œ |

> ì¦‰, `@Conditional`ì€ **í´ë˜ìŠ¤ê°€ BeanDefinitionìœ¼ë¡œ ë“±ë¡ë˜ê¸° ì „ì— í•„í„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

---

## âœ… 3. ComponentScanì—ì„œ `@Conditional`ì€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ê°€?

### ğŸ“Œ í•µì‹¬ ë©”ì„œë“œ: `ClassPathScanningCandidateComponentProvider#isCandidateComponent`

```java
public boolean isCandidateComponent(MetadataReader metadataReader) {
    return metadataReader.getAnnotationMetadata().isIndependent() &&
           isConditionMatch(metadataReader);
}
```

### í•µì‹¬: `isConditionMatch(...)` ë‚´ë¶€ í˜¸ì¶œ

```java
protected boolean isConditionMatch(MetadataReader metadataReader) {
    AnnotationMetadata metadata = metadataReader.getAnnotationMetadata();
    return conditionEvaluator.shouldInclude(metadata, ConfigurationPhase.REGISTER_BEAN);
}
```

### ê²°êµ­ í˜¸ì¶œë˜ëŠ” í•µì‹¬ ë¡œì§: `Conì„± íŒŒì‹± ì‹œì                                                       |
| ëŒ€ìƒ    | `@Component`, `@Bean`, `@Configuration`, `@Import`, `@ImportResource` ë“± |
| ë‚´ë¶€ ì²˜ë¦¬ | `ConditionEvaluator` â†’ ëª¨ë“  `Condition.matches()` í™•ì¸                      |
| ìµœì¢… ëª©ì  | ì‹¤í–‰ í™˜ê²½ì— ë”°ë¼ Bean ì •ì˜ ìì²´ë¥¼ ìœ ì—°í•˜ê²Œ êµ¬ì„±/ì œì™¸                                        |
